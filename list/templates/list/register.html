
{% extends 'list/layouts/login-layout.html' %}

{% load static %}

{% block title %} Todo List {% endblock %}

{% block content %}

<body>

    <section class="page_title ds s-parallax s-pb-xl-80  s-pb-lg-100  s-pb-md-90 s-pt-md-190 s-pt-180 s-pb-60">
            
        <div class="d-flex justify-content-center">
            {% if messages %}
                {% for message in messages %}
                    <div class="notification is-success is-toast justify-content-center">
                
                        <!-- Flexbox container for aligning the toasts -->
                        <div aria-live="polite" aria-atomic="true" class="d-flex justify-content-center align-items-center">
                
                            <!-- Then put toasts within -->
                            <div class="toast" role="alert" aria-live="assertive" aria-atomic="true">
                            <div class="toast-header">
                                <svg class="bd-placeholder-img rounded mr-2" width="20" height="20" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid slice" focusable="false" role="img">
                                <rect width="100%" height="100%" fill="#007aff"></rect>
                                </svg>
                                <strong class="mr-auto">Patriots Engineering</strong>
                                <small>{{message.tags}}</small>
                                <button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="toast-body">
                                {{message}}
                            </div>
                            </div>
                        </div>
                    </div>
    
                {% endfor %}
                {% endif %}
    
        </div>
    
        <div class="d-flex justify-content-center">
                
                {% if form.non_field_errors %}
                    <div class="notification is-toast">
                        {{ form.non_field_errors}}
                    </div>
                {% endif %}
    
                {% if form.errors %}
                    <div class="notification is-toast">
                        <ul>
                                {% for field in form %}
                                    {% for error in field.errors %}
    
                                    <div class="toast" role="alert" aria-live="assertive" aria-atomic="true">
                                        <div class="toast-header">
                                        <svg class="bd-placeholder-img rounded mr-2" width="20" height="20" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid slice" focusable="false" role="img">
                                            <rect width="100%" height="100%" fill="#007aff"></rect>
                                            </svg>
                                          <strong class="mr-auto">Patriots Engineering</strong>
                                          <small class="text-muted"></small>
                                          <button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                          </button>
                                        </div>
                                        <div class="toast-body">
                                            <strong class="mr-auto">{{ field.label }}</strong> {{ error }}
                                        </div>
                                      </div>
                                      
                                      <script>
                                        $(document).ready(function(){
                                            $('.toast').toast('show');
                                        });
                                        </script>
    
                                    {% endfor %}
                                {% endfor %}
                                
                        </ul>
                    </div>
                {% endif %}
                    
        </div>
    
    
    </section>



    <div class="ui middle aligned center aligned grid">
      <div class="column">
        <h2 class="ui teal image header">
          
          <div class="content">
            Log-in to your account
          </div>
        </h2>      

          <form class="ui large form" method="post" action=".">
            {% csrf_token %}
            <div class="ui stacked segment">
            <p class="">
                
                {{form.username}}
            </p>
            <p class="">
               
                {{form.email}}
            </p>
            <p class="">
                
                {{form.password1}}
            </p>
            <p class="">
                
                {{form.password2}}
            </p>

            <p class="form-row">
  
                <input type="submit" class="ui fluid large teal submit button" name="login" value="Register">
                
            </p>
           
        </div>
        </form>
    
          <div class="ui error message"></div>
    
        </form>
    
        <div class="ui message">
          Already a user? <a href="/login/">Login</a>
        </div>
      </div>
    </div>
    
</body>


{% endblock %}